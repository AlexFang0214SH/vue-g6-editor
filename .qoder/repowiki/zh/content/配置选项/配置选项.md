# 配置选项

<cite>
**本文档引用的文件**
- [index.vue](file://src/views/index.vue)
- [vue.config.js](file://vue.config.js)
- [g6-editor.md](file://doc/v1/g6-editor.md)
</cite>

## 目录
1. [简介](#简介)
2. [G6 Editor画布级配置](#g6-editor画布级配置)
3. [Vue应用级构建配置](#vue应用级构建配置)
4. [配置项优先级规则](#配置项优先级规则)
5. [高级配置与扩展](#高级配置与扩展)
6. [配置错误与验证](#配置错误与验证)
7. [配置代码示例](#配置代码示例)

## 简介
本文档系统整理了vue-g6-editor支持的所有配置项，分为G6 Editor画布级配置和Vue应用级构建配置两大类。详细说明了每个配置项的数据类型、默认值、有效范围及对功能的影响，并提供了配置代码示例和验证方法。

## G6 Editor画布级配置

### grid（网格显示）
**数据类型**: 对象  
**默认值**: `{ cell: 10 }`  
**有效范围**: 数字类型，表示网格单元尺寸  
**功能影响**: 控制画布网格的显示和网格大小，辅助元素对齐和布局。在`index.vue`中通过`flow`组件的`grid`配置项设置。

```javascript
grid: {
  cell: 18
}
```

**Section sources**
- [index.vue](file://src/views/index.vue#L320-L370)

### guides（对齐辅助线）
**数据类型**: 对象  
**默认值**: `{ item: true, grid: true }`  
**有效范围**: 布尔类型或字符串类型  
**功能影响**: 控制元素对齐辅助线的显示，包括全方位对齐、水平对齐、垂直对齐等。在`index.vue`中通过`align`配置项设置。

```javascript
align: {
  item: true,
  grid: true,
  line: {
    stroke: "#FA8C16",
    lineWidth: 1
  }
}
```

**Section sources**
- [index.vue](file://src/views/index.vue#L320-L370)
- [g6-editor.md](file://doc/v1/g6-editor.md#L487-L518)

### multiSelect（多选模式）
**数据类型**: 布尔类型  
**默认值**: `true`  
**有效范围**: `true`或`false`  
**功能影响**: 控制是否启用多选模式，允许用户同时选择多个元素进行操作。在`index.vue`中通过工具栏的`multiSelect`命令实现。

**Section sources**
- [index.vue](file://src/views/index.vue#L0-L23)

### keyboard（快捷键启用）
**数据类型**: 对象  
**默认值**: 内置命令默认启用  
**有效范围**: 布尔类型  
**功能影响**: 控制命令的快捷键是否开启。自定义命令需要在此处开启才能生效。在`index.vue`中通过`shortcut`配置项设置。

```javascript
shortcut: {
  save: true
}
```

**Section sources**
- [index.vue](file://src/views/index.vue#L320-L370)
- [g6-editor.md](file://doc/v1/g6-editor.md#L852-L919)

### noEndEdge（悬空边支持）
**数据类型**: 布尔类型  
**默认值**: `true`  
**有效范围**: `true`或`false`  
**功能影响**: 控制是否支持悬空边，即边的起点或终点不连接到节点。在`index.vue`中通过`flow`组件的`noEndEdge`配置项设置。

**Section sources**
- [g6-editor.md](file://doc/v1/g6-editor.md#L536-L636)

## Vue应用级构建配置

### publicPath
**数据类型**: 字符串或函数  
**默认值**: `/`  
**有效范围**: URL路径字符串  
**功能影响**: 配置应用的公共路径，影响静态资源的引用路径。在`vue.config.js`中通过`publicPath`配置项设置。

```javascript
module.exports = {
  publicPath: (function() {
    if (process.env.NODE_ENV === "demo") {
      return "https://blueju.github.io/vue-g6-editor/dist/";
    }
  })()
};
```

**Section sources**
- [vue.config.js](file://vue.config.js#L0-L6)

### devServer代理设置
**数据类型**: 对象  
**默认值**: 无  
**有效范围**: Webpack devServer配置对象  
**功能影响**: 配置开发服务器的代理规则，解决跨域问题。虽然在当前项目中未直接配置，但属于Vue应用级构建配置的一部分。

## 配置项优先级规则
运行时配置会覆盖默认值。例如，在`index.vue`中通过`props`或直接初始化参数传入的配置会覆盖G6 Editor的默认配置。Vue应用级构建配置（如`vue.config.js`中的配置）会影响整个应用的构建行为，优先级高于代码中的静态配置。

## 高级配置与扩展
通过扩展G6 Editor默认配置可以实现主题定制或行为修改。例如，可以通过注册自定义命令来扩展编辑器功能：

```javascript
Command.registerCommand("save", {
  queue: false,
  enable: (editor) => {
    return true;
  },
  execute(editor) {
    let needSaveData = editor.getCurrentPage().save();
    localStorage.setItem("flowData", JSON.stringify(needSaveData));
    _this.save(needSaveData);
    _this.$message.success("数据已保存");
  },
  shortcutCodes: [
    ["metaKey", "s"],
    ["ctrlKey", "s"]
  ]
});
```

**Section sources**
- [index.vue](file://src/views/index.vue#L274-L324)

## 配置错误与验证
配置错误可能导致画布无法交互、组件不显示等问题。例如，如果`container`配置项设置错误，可能导致画布无法渲染。验证方法包括检查控制台错误信息、确保配置项的数据类型正确、以及通过实际操作测试功能是否正常。

## 配置代码示例
在`index.vue`中通过`props`或直接初始化参数传入配置的示例如下：

```javascript
const flow = new G6Editor.Flow({
  graph: {
    container: "page"
  },
  align: {
    line: {
      stroke: "#FA8C16",
      lineWidth: 1
    },
    item: true,
    grid: true 
  },
  grid: {
    cell: 20,
    line: {
      stroke: "#FA8C16",
      lineWidth: 10
    }
  },
  shortcut: {
    save: true
  },
  noEndEdge: true
});
```

**Section sources**
- [index.vue](file://src/views/index.vue#L274-L324)
- [g6-editor.md](file://doc/v1/g6-editor.md#L536-L636)